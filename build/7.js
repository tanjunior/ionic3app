webpackJsonp([7],{410:function(l,n,e){"use strict";function t(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,10,"ion-header",[],null,null,null,null,null)),u["ɵdid"](1,16384,null,0,k.a,[_.a,u.ElementRef,u.Renderer,[2,I.a]],null,null),(l()(),u["ɵted"](-1,null,["\n\n  "])),(l()(),u["ɵeld"](3,0,null,null,6,"ion-navbar",[["class","toolbar"],["color","primary"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,x.b,x.a)),u["ɵdid"](4,49152,null,0,E.a,[w.a,[2,I.a],[2,D.a],_.a,u.ElementRef,u.Renderer],{color:[0,"color"]},null),(l()(),u["ɵted"](-1,3,["\n    "])),(l()(),u["ɵeld"](6,0,null,3,2,"ion-title",[],null,null,null,F.b,F.a)),u["ɵdid"](7,49152,null,0,M.a,[_.a,u.ElementRef,u.Renderer,[2,N.a],[2,E.a]],null,null),(l()(),u["ɵted"](-1,0,["Add Post"])),(l()(),u["ɵted"](-1,3,["\n  "])),(l()(),u["ɵted"](-1,null,["\n\n"])),(l()(),u["ɵted"](-1,null,["\n\n\n"])),(l()(),u["ɵeld"](12,0,null,null,63,"ion-content",[["padding",""],["scrollbar-y-auto",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,P.b,P.a)),u["ɵdid"](13,4374528,null,0,T.a,[_.a,V.a,q.a,u.ElementRef,u.Renderer,w.a,K.a,u.NgZone,[2,I.a],[2,D.a]],null,null),(l()(),u["ɵted"](-1,1,["\n  "])),(l()(),u["ɵeld"](15,0,null,1,55,"ion-list",[],null,null,null,null,null)),u["ɵdid"](16,16384,null,0,S.a,[_.a,u.ElementRef,u.Renderer,V.a,B.l,q.a],null,null),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](18,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,j.b,j.a)),u["ɵdid"](19,1097728,null,3,A.a,[L.a,_.a,u.ElementRef,u.Renderer,[2,O.a]],null,null),u["ɵqud"](335544320,1,{contentLabel:0}),u["ɵqud"](603979776,2,{_buttons:1}),u["ɵqud"](603979776,3,{_icons:1}),u["ɵdid"](23,16384,null,0,U.a,[],null,null),(l()(),u["ɵted"](-1,2,["\n      "])),(l()(),u["ɵeld"](25,0,null,1,2,"ion-label",[["floating",""]],null,null,null,null,null)),u["ɵdid"](26,16384,[[1,4]],0,z.a,[_.a,u.ElementRef,u.Renderer,[8,""],[8,null],[8,null],[8,null]],null,null),(l()(),u["ɵted"](-1,null,["Title"])),(l()(),u["ɵted"](-1,2,["\n      "])),(l()(),u["ɵeld"](29,0,null,3,4,"ion-input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.post.title=e)&&t}return t},J.b,J.a)),u["ɵdid"](30,671744,null,0,Z.NgModel,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),u["ɵprd"](2048,null,Z.NgControl,null,[Z.NgModel]),u["ɵdid"](32,16384,null,0,Z.NgControlStatus,[Z.NgControl],null,null),u["ɵdid"](33,5423104,null,0,G.a,[_.a,V.a,L.a,w.a,u.ElementRef,u.Renderer,[2,T.a],[2,A.a],[2,Z.NgControl],q.a],{type:[0,"type"]},null),(l()(),u["ɵted"](-1,2,["\n    "])),(l()(),u["ɵted"](-1,null,["\n\n    "])),(l()(),u["ɵeld"](36,0,null,null,15,"ion-item",[["class","item item-block"],["style","height: 100px;"]],null,null,null,j.b,j.a)),u["ɵdid"](37,1097728,null,3,A.a,[L.a,_.a,u.ElementRef,u.Renderer,[2,O.a]],null,null),u["ɵqud"](335544320,4,{contentLabel:0}),u["ɵqud"](603979776,5,{_buttons:1}),u["ɵqud"](603979776,6,{_icons:1}),u["ɵdid"](41,16384,null,0,U.a,[],null,null),(l()(),u["ɵted"](-1,2,["\n      "])),(l()(),u["ɵted"](-1,2,["\n      "])),(l()(),u["ɵted"](-1,2,["\n      "])),(l()(),u["ɵeld"](45,0,null,1,2,"ion-label",[["fixed",""]],null,null,null,null,null)),u["ɵdid"](46,16384,[[4,4]],0,z.a,[_.a,u.ElementRef,u.Renderer,[8,null],[8,null],[8,""],[8,null]],null,null),(l()(),u["ɵted"](-1,null,["Image"])),(l()(),u["ɵted"](-1,2,["\n      "])),(l()(),u["ɵeld"](49,0,null,3,1,"ion-input",[["accept","image/*"],["type","file"]],null,[[null,"change"]],function(l,n,e){var t=!0;if("change"===n){t=!1!==l.component.selectImage(e)&&t}return t},J.b,J.a)),u["ɵdid"](50,5423104,null,0,G.a,[_.a,V.a,L.a,w.a,u.ElementRef,u.Renderer,[2,T.a],[2,A.a],[2,Z.NgControl],q.a],{type:[0,"type"]},null),(l()(),u["ɵted"](-1,2,["\n      \n    "])),(l()(),u["ɵted"](-1,null,["\n\n    "])),(l()(),u["ɵeld"](53,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,j.b,j.a)),u["ɵdid"](54,1097728,null,3,A.a,[L.a,_.a,u.ElementRef,u.Renderer,[2,O.a]],null,null),u["ɵqud"](335544320,7,{contentLabel:0}),u["ɵqud"](603979776,8,{_buttons:1}),u["ɵqud"](603979776,9,{_icons:1}),u["ɵdid"](58,16384,null,0,U.a,[],null,null),(l()(),u["ɵted"](-1,2,["\n      "])),(l()(),u["ɵeld"](60,0,null,1,2,"ion-label",[["floating",""]],null,null,null,null,null)),u["ɵdid"](61,16384,[[7,4]],0,z.a,[_.a,u.ElementRef,u.Renderer,[8,""],[8,null],[8,null],[8,null]],null,null),(l()(),u["ɵted"](-1,null,["Content"])),(l()(),u["ɵted"](-1,2,["\n      "])),(l()(),u["ɵeld"](64,0,null,3,4,"ion-textarea",[["fz-elastic",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.post.content=e)&&t}return t},J.b,J.a)),u["ɵdid"](65,671744,null,0,Z.NgModel,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),u["ɵprd"](2048,null,Z.NgControl,null,[Z.NgModel]),u["ɵdid"](67,16384,null,0,Z.NgControlStatus,[Z.NgControl],null,null),u["ɵdid"](68,5423104,null,0,G.a,[_.a,V.a,L.a,w.a,u.ElementRef,u.Renderer,[2,T.a],[2,A.a],[2,Z.NgControl],q.a],null,null),(l()(),u["ɵted"](-1,2,["\n    "])),(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵted"](-1,1,["\n\n  "])),(l()(),u["ɵeld"](72,0,null,1,2,"button",[["block",""],["class","btn btn-success"],["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.addPost(u.post)&&t}return t},H.b,H.a)),u["ɵdid"](73,1097728,null,0,Q.a,[[8,""],_.a,u.ElementRef,u.Renderer],{block:[0,"block"]},null),(l()(),u["ɵted"](-1,0,["Add"])),(l()(),u["ɵted"](-1,1,["\n"]))],function(l,n){var e=n.component;l(n,4,0,"primary");l(n,30,0,e.post.title);l(n,33,0,"text");l(n,50,0,"file");l(n,65,0,e.post.content);l(n,73,0,"")},function(l,n){var e=n.component;l(n,3,0,u["ɵnov"](n,4)._hidden,u["ɵnov"](n,4)._sbPadding);l(n,12,0,u["ɵnov"](n,13).statusbarPadding,u["ɵnov"](n,13)._hasRefresher);l(n,29,0,u["ɵnov"](n,32).ngClassUntouched,u["ɵnov"](n,32).ngClassTouched,u["ɵnov"](n,32).ngClassPristine,u["ɵnov"](n,32).ngClassDirty,u["ɵnov"](n,32).ngClassValid,u["ɵnov"](n,32).ngClassInvalid,u["ɵnov"](n,32).ngClassPending);l(n,64,0,u["ɵnov"](n,67).ngClassUntouched,u["ɵnov"](n,67).ngClassTouched,u["ɵnov"](n,67).ngClassPristine,u["ɵnov"](n,67).ngClassDirty,u["ɵnov"](n,67).ngClassValid,u["ɵnov"](n,67).ngClassInvalid,u["ɵnov"](n,67).ngClassPending);l(n,72,0,!e.selectedFiles)})}Object.defineProperty(n,"__esModule",{value:!0});var u=e(0),a=(e(4),e(99),e(149)),o=e(160),d=function(){return function(l){this.file=l}}(),i=e(161),r=e(282),s=e.n(r),c=function(){function l(l,n,e,t,u,a){var o=this;this.navCtrl=l,this.navParams=n,this.firebaseService=e,this.toast=t,this.uploadService=u,this.events=a,this.progress={percentage:0},this.userId=s.a.auth().currentUser.uid,this.post={ownerKey:"",owner:"",title:"",content:"",imgurl:""},this.firebaseService.db.object("/users/"+this.userId).snapshotChanges().subscribe(function(l){o.post.owner=l.payload.child("username").val()}),this.post.ownerKey=this.userId}return l.prototype.ngOnInit=function(){this.uploadService.setBasePath("posts")},l.prototype.selectImage=function(l){this.selectedFiles=l.target.files},l.prototype.addPost=function(l){var n=this;this.firebaseService.addPost(l).then(function(e){n.firebaseService.db.list("users/"+n.userId+"/posts").update(e.key,{title:l.title}).then(function(){n.events.publish("post",e.key);var l=n.selectedFiles.item(0);n.currentFileUpload=new d(l),n.uploadService.pushFileToStorage(n.currentFileUpload,n.progress)}).then(function(){n.toast.show(l.title+" added!").then(function(){n.navCtrl.popToRoot()})})})},l}(),f=function(){return function(){}}(),p=e(272),b=e(273),m=e(274),g=e(275),v=e(276),h=e(277),R=e(278),C=e(279),y=e(280),k=e(148),_=e(2),I=e(7),x=e(425),E=e(53),w=e(11),D=e(27),F=e(426),M=e(145),N=e(67),P=e(427),T=e(28),V=e(5),q=e(12),K=e(46),S=e(69),B=e(10),j=e(281),A=e(23),L=e(20),O=e(57),U=e(100),z=e(56),J=e(428),Z=e(19),G=e(147),H=e(54),Q=e(26),W=e(14),X=e(109),Y=u["ɵcrt"]({encapsulation:2,styles:[],data:{}}),$=u["ɵccf"]("page-add-post",c,function(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,1,"page-add-post",[],null,null,null,t,Y)),u["ɵdid"](1,114688,null,0,c,[D.a,W.a,a.a,o.a,i.a,X.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),ll=e(16),nl=e(146),el=e(47);e.d(n,"AddPostPageModuleNgFactory",function(){return tl});var tl=u["ɵcmf"](f,[],function(l){return u["ɵmod"]([u["ɵmpd"](512,u.ComponentFactoryResolver,u["ɵCodegenComponentFactoryResolver"],[[8,[p.a,b.a,m.a,g.a,v.a,h.a,R.a,C.a,y.a,$]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["ɵmpd"](4608,ll.l,ll.k,[u.LOCALE_ID,[2,ll.t]]),u["ɵmpd"](4608,Z["ɵi"],Z["ɵi"],[]),u["ɵmpd"](4608,Z.FormBuilder,Z.FormBuilder,[]),u["ɵmpd"](512,ll.c,ll.c,[]),u["ɵmpd"](512,Z["ɵba"],Z["ɵba"],[]),u["ɵmpd"](512,Z.FormsModule,Z.FormsModule,[]),u["ɵmpd"](512,Z.ReactiveFormsModule,Z.ReactiveFormsModule,[]),u["ɵmpd"](512,nl.a,nl.a,[]),u["ɵmpd"](512,nl.b,nl.b,[]),u["ɵmpd"](512,f,f,[]),u["ɵmpd"](256,el.a,c,[])])})},425:function(l,n,e){"use strict";function t(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),u["ɵdid"](1,278528,null,0,a.h,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),u["ɵeld"](2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.backButtonClick(e)&&t}return t},o.b,o.a)),u["ɵdid"](3,278528,null,0,a.h,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵdid"](4,1097728,null,0,d.a,[[8,"bar-button"],i.a,u.ElementRef,u.Renderer],null,null),(l()(),u["ɵeld"](5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u["ɵdid"](6,278528,null,0,a.h,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵdid"](7,147456,null,0,r.a,[i.a,u.ElementRef,u.Renderer],{name:[0,"name"]},null),(l()(),u["ɵeld"](8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),u["ɵdid"](9,278528,null,0,a.h,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),u["ɵted"](10,null,["",""])),u["ɵncd"](null,0),u["ɵncd"](null,1),u["ɵncd"](null,2),(l()(),u["ɵeld"](14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),u["ɵdid"](15,278528,null,0,a.h,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵncd"](null,3)],function(l,n){var e=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+e._mode);l(n,3,0,"back-button","back-button-"+e._mode);l(n,6,0,"back-button-icon","back-button-icon-"+e._mode);l(n,7,0,e._bbIcon);l(n,9,0,"back-button-text","back-button-text-"+e._mode);l(n,15,0,"toolbar-content","toolbar-content-"+e._mode)},function(l,n){var e=n.component;l(n,2,0,e._hideBb);l(n,5,0,u["ɵnov"](n,7)._hidden);l(n,10,0,e._backText)})}e.d(n,"a",function(){return s}),n.b=t;var u=e(0),a=e(16),o=e(54),d=e(26),i=e(2),r=e(55),s=(e(7),e(27),u["ɵcrt"]({encapsulation:2,styles:[],data:{}}))},426:function(l,n,e){"use strict";function t(l){return u["ɵvid"](2,[(l()(),u["ɵeld"](0,0,null,null,2,"div",[["class","toolbar-title"]],null,null,null,null,null)),u["ɵdid"](1,278528,null,0,a.h,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵncd"](null,0)],function(l,n){l(n,1,0,"toolbar-title","toolbar-title-"+n.component._mode)},null)}e.d(n,"a",function(){return o}),n.b=t;var u=e(0),a=e(16),o=(e(2),u["ɵcrt"]({encapsulation:2,styles:[],data:{}}))},427:function(l,n,e){"use strict";function t(l){return u["ɵvid"](2,[u["ɵqud"](402653184,1,{_fixedContent:0}),u["ɵqud"](402653184,2,{_scrollContent:0}),(l()(),u["ɵeld"](2,0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),u["ɵncd"](null,0),(l()(),u["ɵeld"](4,0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),u["ɵncd"](null,1),u["ɵncd"](null,2)],null,null)}e.d(n,"a",function(){return a}),n.b=t;var u=e(0),a=(e(2),e(5),e(12),e(46),e(7),e(27),u["ɵcrt"]({encapsulation:2,styles:[],data:{}}))},428:function(l,n,e){"use strict";function t(l){return i["ɵvid"](0,[(l()(),i["ɵeld"](0,0,[[1,0],["textInput",1]],null,1,"input",[["class","text-input"],["dir","auto"]],[[8,"type",0],[1,"aria-labelledby",0],[1,"min",0],[1,"max",0],[1,"step",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(l,n,e){var t=!0,u=l.component;if("input"===n){t=!1!==u.onInput(e)&&t}if("blur"===n){t=!1!==u.onBlur(e)&&t}if("focus"===n){t=!1!==u.onFocus(e)&&t}if("keydown"===n){t=!1!==u.onKeydown(e)&&t}return t},null,null)),i["ɵdid"](1,278528,null,0,r.h,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(l,n){l(n,1,0,"text-input","text-input-"+n.component._mode)},function(l,n){var e=n.component;l(n,0,0,e._type,e._labelId,e.min,e.max,e.step,e.autocomplete,e.autocorrect,e.placeholder,e._disabled,e._readonly)})}function u(l){return i["ɵvid"](0,[(l()(),i["ɵeld"](0,0,[[1,0],["textInput",1]],null,1,"textarea",[["class","text-input"]],[[1,"aria-labelledby",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(l,n,e){var t=!0,u=l.component;if("input"===n){t=!1!==u.onInput(e)&&t}if("blur"===n){t=!1!==u.onBlur(e)&&t}if("focus"===n){t=!1!==u.onFocus(e)&&t}if("keydown"===n){t=!1!==u.onKeydown(e)&&t}return t},null,null)),i["ɵdid"](1,278528,null,0,r.h,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(l,n){l(n,1,0,"text-input","text-input-"+n.component._mode)},function(l,n){var e=n.component;l(n,0,0,e._labelId,e.autocomplete,e.autocorrect,e.placeholder,e._disabled,e._readonly)})}function a(l){return i["ɵvid"](0,[(l()(),i["ɵeld"](0,0,null,null,1,"button",[["class","text-input-clear-icon"],["clear",""],["ion-button",""],["tabindex","-1"],["type","button"]],null,[[null,"click"],[null,"mousedown"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.clearTextInput(e)&&t}if("mousedown"===n){t=!1!==u.clearTextInput(e)&&t}return t},s.b,s.a)),i["ɵdid"](1,1097728,null,0,c.a,[[8,""],f.a,i.ElementRef,i.Renderer],{clear:[0,"clear"]},null)],function(l,n){l(n,1,0,"")},null)}function o(l){return i["ɵvid"](0,[(l()(),i["ɵeld"](0,0,null,null,0,"div",[["class","input-cover"]],null,[[null,"touchstart"],[null,"touchend"],[null,"mousedown"],[null,"mouseup"]],function(l,n,e){var t=!0,u=l.component;if("touchstart"===n){t=!1!==u._pointerStart(e)&&t}if("touchend"===n){t=!1!==u._pointerEnd(e)&&t}if("mousedown"===n){t=!1!==u._pointerStart(e)&&t}if("mouseup"===n){t=!1!==u._pointerEnd(e)&&t}return t},null,null))],null,null)}function d(l){return i["ɵvid"](2,[i["ɵqud"](671088640,1,{_native:0}),(l()(),i["ɵand"](16777216,null,null,1,null,t)),i["ɵdid"](2,16384,null,0,r.j,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["ɵand"](16777216,null,null,1,null,u)),i["ɵdid"](4,16384,null,0,r.j,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["ɵand"](16777216,null,null,1,null,a)),i["ɵdid"](6,16384,null,0,r.j,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),i["ɵand"](16777216,null,null,1,null,o)),i["ɵdid"](8,16384,null,0,r.j,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var e=n.component;l(n,2,0,!e._isTextarea);l(n,4,0,e._isTextarea);l(n,6,0,e._clearInput);l(n,8,0,e._useAssist)},null)}e.d(n,"a",function(){return p}),n.b=d;var i=e(0),r=e(16),s=e(54),c=e(26),f=e(2),p=(e(5),e(20),e(12),i["ɵcrt"]({encapsulation:2,styles:[],data:{}}))}});